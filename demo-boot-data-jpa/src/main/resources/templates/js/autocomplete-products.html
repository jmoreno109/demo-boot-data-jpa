<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
	<script type="text/javascript" th:fragment="javascript">
	
	$(document).ready(function(){
		
		$("#find_product2").autocomplete({
			
			source: function (request,response){
				$.ajax({
					url: "/load-products/" + request.term,
					dataType:"json",
					data: {
						term:request.term
					},
					success: function(data){
						response($.map(data,function(item){
							return {
								value: item.id,
								label: item.name,
							};
						}));
					},
				});
			},
			
			select: function (event, ui){
				$("#find_product2").val(ui.item.label);
				return false;
			}
			
		});
		
	});
	
	</script>
	
</body>
</html>